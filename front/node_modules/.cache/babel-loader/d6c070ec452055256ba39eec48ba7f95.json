{"ast":null,"code":"import _toConsumableArray from \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\src\\\\components\\\\RoomListPageCom\\\\Chat.js\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Paper, TextField, Container, Button, Grid } from \"@mui/material\";\nimport io from \"socket.io-client\";\n\nfunction Chat() {\n  var _this = this;\n\n  // 채팅 목록\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      chats = _useState2[0],\n      setChats = _useState2[1]; // 내가 지금 보낼 채팅\n\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      chat = _useState4[0],\n      setChat = _useState4[1];\n\n  var socketRef = useRef();\n  useEffect(function () {\n    socketRef.current = io.connect('/');\n    socketRef.current.on('chatting', function (chat) {\n      receivedChat(chat);\n    });\n  }, []); // 채팅 받기\n\n  function receivedChat(chat) {\n    setChats(function (oldChats) {\n      return [].concat(_toConsumableArray(oldChats), [chat]);\n    });\n  } // 채팅 보내기\n\n\n  function sendChat() {\n    var chatInfo = {\n      nickname: 'nickname',\n      body: chat\n    };\n    console.log(chatInfo);\n    setChat('');\n    socketRef.current.emit('chatting', chatInfo);\n  }\n\n  function handleChange(e) {\n    setChat(e.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Chat\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, chats.map(function (chat, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 33\n      }\n    }, chat.nickname, \" : \", chat.body);\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 11,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    id: \"outlined-textarea\",\n    value: chat,\n    onChange: handleChange,\n    placeholder: \"Chat\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    size: \"medium\",\n    onClick: sendChat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"\\uC804\\uC1A1\")))));\n}\n\nexport default Chat;","map":{"version":3,"names":["React","useState","useRef","useEffect","Paper","TextField","Container","Button","Grid","io","Chat","chats","setChats","chat","setChat","socketRef","current","connect","on","receivedChat","oldChats","sendChat","chatInfo","nickname","body","console","log","emit","handleChange","e","target","value","map","index"],"sources":["C:/SSAFY/2nd semester/S07P12D106/front/src/components/RoomListPageCom/Chat.js"],"sourcesContent":["import React, { useState, useRef,useEffect } from \"react\";\r\nimport { Paper, TextField, Container, Button, Grid } from \"@mui/material\";\r\nimport io from \"socket.io-client\";\r\n\r\nfunction Chat() {\r\n    // 채팅 목록\r\n    const [chats, setChats] = useState([]);\r\n    // 내가 지금 보낼 채팅\r\n    const [chat, setChat] = useState(\"\");\r\n\r\n    const socketRef = useRef();\r\n\r\n    useEffect(()=>{\r\n        socketRef.current = io.connect('/')\r\n        socketRef.current.on('chatting',(chat) => {\r\n            receivedChat(chat)\r\n        })\r\n    },[])\r\n\r\n    // 채팅 받기\r\n    function receivedChat(chat){\r\n        setChats(oldChats => [...oldChats,chat])\r\n    }\r\n    // 채팅 보내기\r\n    function sendChat(){\r\n        const chatInfo = {\r\n            nickname : 'nickname',\r\n            body : chat\r\n        }\r\n        console.log(chatInfo)\r\n        setChat('')\r\n        socketRef.current.emit('chatting',chatInfo)\r\n    }\r\n    function handleChange(e) {\r\n        setChat(e.target.value);\r\n    }\r\n    \r\n    return (\r\n        <Paper>\r\n            <Container>\r\n                <h1>Chat</h1>\r\n                <Grid container spacing={0}>\r\n                    <Grid item xs={12}>\r\n                        {chats.map((chat,index) => {\r\n                            return (\r\n                                <div key={index}>\r\n                                    {chat.nickname} : {chat.body}\r\n                                </div>\r\n                                \r\n                            )\r\n                        })}\r\n                    </Grid>\r\n                    \r\n                    <Grid item xs={11}>\r\n                        <TextField\r\n                            fullWidth\r\n                            id=\"outlined-textarea\"\r\n                            value = {chat}\r\n                            onChange={handleChange}\r\n                            placeholder=\"Chat\"\r\n                            size=\"small\"\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                        <Button variant=\"outlined\" size=\"medium\" onClick={sendChat}>\r\n                            전송\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </Paper>\r\n    );\r\n}\r\nexport default Chat;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}