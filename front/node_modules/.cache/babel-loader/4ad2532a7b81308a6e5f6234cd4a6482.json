{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\src\\\\pages\\\\SignInPage.js\",\n    _templateObject;\n\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, styleButton, styleModal, styleTextField } from '../style.js';\nimport { Modal, Box, Button, TextField } from '@mui/material';\nimport { Link, useNavigate, Navigate } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { login, getUser } from \"../redux/slice/UserSlice\";\n\nvar SignInPage = function SignInPage(props) {\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      wrongInputData = _useState6[0],\n      setWrongInputData = _useState6[1];\n\n  var _useState7 = useState(useSelector(function (state) {\n    return state.user.accessToken;\n  })),\n      _useState8 = _slicedToArray(_useState7, 1),\n      isRedirect = _useState8[0];\n\n  var handleWrongInputDataClose = function handleWrongInputDataClose() {\n    setWrongInputData(false);\n  };\n\n  var onClickLogin = function onClickLogin() {\n    axios({\n      method: 'post',\n      url: '/api/login',\n      data: {\n        email: email,\n        password: password\n      }\n    }).then(function (response) {\n      dispatch(login(response.data));\n      axios({\n        method: 'get',\n        url: '/api/user/me',\n        headers: {\n          Authorization: \"Bearer \" + response.data.accessToken\n        }\n      }).then(function (response2) {\n        dispatch(getUser(response2.data));\n        navigate(\"/\");\n      });\n    }).catch(function (error) {\n      if (error.response.status === 401) {\n        setWrongInputData(true);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, isRedirect && /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 23\n    }\n  }), wrongInputData ? /*#__PURE__*/React.createElement(Modal, {\n    open: wrongInputData,\n    onClose: handleWrongInputDataClose,\n    \"aria-labelledby\": \"modal-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: _objectSpread({}, styleModal, {\n      width: 400\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"modal-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"\\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uB294 \\uC774\\uBA54\\uC77C\\uC774\\uAC70\\uB098 \\uD2C0\\uB9B0 \\uBE44\\uBC00\\uBC88\\uD638\\uC785\\uB2C8\\uB2E4.\"), /*#__PURE__*/React.createElement(Button, {\n    style: styleButton,\n    onClick: handleWrongInputDataClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"\\uD655\\uC778\"))) : null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"\\uB85C\\uADF8\\uC778\"), /*#__PURE__*/React.createElement(Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"\\uC774\\uBA54\\uC77C\"), /*#__PURE__*/React.createElement(TextField, {\n    style: styleTextField,\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"\\uC774\\uBA54\\uC77C\",\n    onChange: function onChange(e) {\n      setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638\"), /*#__PURE__*/React.createElement(TextField, {\n    style: styleTextField,\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n    onChange: function onChange(e) {\n      setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    style: styleButton,\n    onClick: onClickLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"\\uB85C\\uADF8\\uC778\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: styleButton,\n    to: \"/signup\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"), /*#__PURE__*/React.createElement(Link, {\n    style: styleButton,\n    to: \"/findpassword\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\")), /*#__PURE__*/React.createElement(Button, {\n    style: styleButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, \"\\uC774\\uBA54\\uC77C\\uB85C \\uB85C\\uADF8\\uC778\"), /*#__PURE__*/React.createElement(Button, {\n    style: styleButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"\\uCE74\\uCE74\\uC624 \\uB85C\\uADF8\\uC778\"), /*#__PURE__*/React.createElement(Button, {\n    style: styleButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"\\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778\"));\n};\n\nvar Content = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  overflow: hidden;\\n  display: block;\\n  text-align: center;\\n\"])));\nexport default SignInPage;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Container","styleButton","styleModal","styleTextField","Modal","Box","Button","TextField","Link","useNavigate","Navigate","styled","axios","login","getUser","SignInPage","props","navigate","dispatch","email","setEmail","password","setPassword","wrongInputData","setWrongInputData","state","user","accessToken","isRedirect","handleWrongInputDataClose","onClickLogin","method","url","data","then","response","headers","Authorization","response2","catch","error","status","width","e","target","value","Content","div"],"sources":["C:/SSAFY/2nd semester/S07P12D106/front/src/pages/SignInPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Container, styleButton, styleModal, styleTextField } from '../style.js';\r\nimport { Modal, Box, Button, TextField } from '@mui/material';\r\nimport { Link, useNavigate, Navigate } from  \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport { login, getUser } from \"../redux/slice/UserSlice\";\r\n\r\n\r\nconst SignInPage = (props) => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [wrongInputData, setWrongInputData] = useState(false);\r\n  const [isRedirect] = useState(useSelector(state => state.user.accessToken)); \r\n\r\n  const handleWrongInputDataClose = () => {\r\n    setWrongInputData(false);\r\n  };\r\n\r\n  const onClickLogin = () => {\r\n    axios({\r\n      method: 'post',\r\n      url: '/api/login',\r\n      data: {\r\n        email,\r\n        password,\r\n      }\r\n    })\r\n    .then(response => {\r\n      dispatch(login(response.data));\r\n      axios({\r\n        method: 'get',\r\n        url: '/api/user/me',\r\n        headers: {\r\n            Authorization: `Bearer ` + response.data.accessToken,\r\n        }\r\n      })\r\n      .then(response2 => {\r\n        dispatch(getUser(response2.data));\r\n        navigate(\"/\");\r\n      })\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        setWrongInputData(true);\r\n      }\r\n    })\r\n    \r\n  }\r\n  \r\n  return (\r\n    <Container>\r\n      { isRedirect && <Navigate to=\"/\"/> }\r\n      { wrongInputData ?\r\n          <Modal\r\n            open={wrongInputData}\r\n            onClose={handleWrongInputDataClose}\r\n            aria-labelledby=\"modal-title\"\r\n          >\r\n            <Box sx={{ ...styleModal, width: 400 }}>\r\n              <h2 id=\"modal-title\">존재하지 않는 이메일이거나 틀린 비밀번호입니다.</h2>\r\n              <Button style={styleButton} onClick={handleWrongInputDataClose}>확인</Button>\r\n            </Box>\r\n          </Modal>\r\n      : null }\r\n\r\n      <h2>로그인</h2>\r\n      <Content>\r\n        <label htmlFor=\"email\">이메일</label>\r\n        <TextField style={styleTextField} id=\"email\" name=\"email\" placeholder=\"이메일\" onChange={(e) => {setEmail(e.target.value)}}></TextField>\r\n      </Content>\r\n      <Content>\r\n        <label htmlFor=\"password\">비밀번호</label>\r\n        <TextField style={styleTextField} type=\"password\" id=\"password\" name=\"password\" placeholder=\"비밀번호\" onChange={(e) => {setPassword(e.target.value)}}></TextField>\r\n      </Content>\r\n      <Button style={styleButton} onClick={onClickLogin}>로그인</Button>\r\n\r\n      <p>\r\n        <Link style={styleButton} to={`/signup`}>회원가입</Link>\r\n        <Link style={styleButton} to={`/findpassword`}>비밀번호 찾기</Link>\r\n      </p>\r\n\r\n      <Button style={styleButton}>이메일로 로그인</Button>\r\n      <Button style={styleButton}>카카오 로그인</Button>\r\n      <Button style={styleButton}>구글 로그인</Button>\r\n\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Content = styled.div`\r\n  overflow: hidden;\r\n  display: block;\r\n  text-align: center;\r\n`\r\n\r\nexport default SignInPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}