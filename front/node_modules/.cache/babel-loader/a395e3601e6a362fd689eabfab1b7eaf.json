{"ast":null,"code":"var _jsxFileName = \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\src\\\\components\\\\RoomListPageCom\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Paper, TextField, Container, Button, Grid } from \"@mui/material\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat() {\n  _s();\n\n  // 채팅 목록\n  const [chats, setChats] = useState([]); // 내가 지금 보낼 채팅\n\n  const [chat, setChat] = useState(\"\");\n  const socketRef = useRef();\n  useEffect(() => {\n    socketRef.current = io.connect('/');\n    socketRef.current.on('chatting', chat => {\n      receivedChat(chat);\n    });\n  }, []); // 채팅 받기\n\n  function receivedChat(chat) {\n    setChats(oldChats => [...oldChats, chat]);\n  } // 채팅 보내기\n\n\n  function sendChat() {\n    const chatInfo = {\n      nickname: 'nickname',\n      body: chat\n    };\n    console.log(chatInfo);\n    setChat('');\n    socketRef.current.emit('chatting', chatInfo);\n  }\n\n  function handleChange(e) {\n    setChat(e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 0,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: chats.map((chat, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [chat.nickname, \" : \", chat.body]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 11,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            id: \"outlined-textarea\",\n            value: chat,\n            onChange: handleChange,\n            placeholder: \"Chat\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 1,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            size: \"medium\",\n            onClick: sendChat,\n            children: \"\\uC804\\uC1A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chat, \"se/CbipOGx2RfQDZmz2BDrVr+n0=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Paper","TextField","Container","Button","Grid","io","Chat","chats","setChats","chat","setChat","socketRef","current","connect","on","receivedChat","oldChats","sendChat","chatInfo","nickname","body","console","log","emit","handleChange","e","target","value","map","index"],"sources":["C:/SSAFY/2nd semester/S07P12D106/front/src/components/RoomListPageCom/Chat.js"],"sourcesContent":["import React, { useState, useRef,useEffect } from \"react\";\r\nimport { Paper, TextField, Container, Button, Grid } from \"@mui/material\";\r\nimport io from \"socket.io-client\";\r\n\r\nfunction Chat() {\r\n    // 채팅 목록\r\n    const [chats, setChats] = useState([]);\r\n    // 내가 지금 보낼 채팅\r\n    const [chat, setChat] = useState(\"\");\r\n\r\n    const socketRef = useRef();\r\n\r\n    useEffect(()=>{\r\n        socketRef.current = io.connect('/')\r\n        socketRef.current.on('chatting',(chat) => {\r\n            receivedChat(chat)\r\n        })\r\n    },[])\r\n\r\n    // 채팅 받기\r\n    function receivedChat(chat){\r\n        setChats(oldChats => [...oldChats,chat])\r\n    }\r\n    // 채팅 보내기\r\n    function sendChat(){\r\n        const chatInfo = {\r\n            nickname : 'nickname',\r\n            body : chat\r\n        }\r\n        console.log(chatInfo)\r\n        setChat('')\r\n        socketRef.current.emit('chatting',chatInfo)\r\n    }\r\n    function handleChange(e) {\r\n        setChat(e.target.value);\r\n    }\r\n    \r\n    return (\r\n        <Paper>\r\n            <Container>\r\n                <h1>Chat</h1>\r\n                <Grid container spacing={0}>\r\n                    <Grid item xs={12}>\r\n                        {chats.map((chat,index) => {\r\n                            return (\r\n                                <div key={index}>\r\n                                    {chat.nickname} : {chat.body}\r\n                                </div>\r\n                                \r\n                            )\r\n                        })}\r\n                    </Grid>\r\n                    \r\n                    <Grid item xs={11}>\r\n                        <TextField\r\n                            fullWidth\r\n                            id=\"outlined-textarea\"\r\n                            value = {chat}\r\n                            onChange={handleChange}\r\n                            placeholder=\"Chat\"\r\n                            size=\"small\"\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={1}>\r\n                        <Button variant=\"outlined\" size=\"medium\" onClick={sendChat}>\r\n                            전송\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n        </Paper>\r\n    );\r\n}\r\nexport default Chat;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAiCC,SAAjC,QAAkD,OAAlD;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,MAAtC,EAA8CC,IAA9C,QAA0D,eAA1D;AACA,OAAOC,EAAP,MAAe,kBAAf;;;AAEA,SAASC,IAAT,GAAgB;EAAA;;EACZ;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC,CAFY,CAGZ;;EACA,MAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,EAAD,CAAhC;EAEA,MAAMc,SAAS,GAAGb,MAAM,EAAxB;EAEAC,SAAS,CAAC,MAAI;IACVY,SAAS,CAACC,OAAV,GAAoBP,EAAE,CAACQ,OAAH,CAAW,GAAX,CAApB;IACAF,SAAS,CAACC,OAAV,CAAkBE,EAAlB,CAAqB,UAArB,EAAiCL,IAAD,IAAU;MACtCM,YAAY,CAACN,IAAD,CAAZ;IACH,CAFD;EAGH,CALQ,EAKP,EALO,CAAT,CARY,CAeZ;;EACA,SAASM,YAAT,CAAsBN,IAAtB,EAA2B;IACvBD,QAAQ,CAACQ,QAAQ,IAAI,CAAC,GAAGA,QAAJ,EAAaP,IAAb,CAAb,CAAR;EACH,CAlBW,CAmBZ;;;EACA,SAASQ,QAAT,GAAmB;IACf,MAAMC,QAAQ,GAAG;MACbC,QAAQ,EAAG,UADE;MAEbC,IAAI,EAAGX;IAFM,CAAjB;IAIAY,OAAO,CAACC,GAAR,CAAYJ,QAAZ;IACAR,OAAO,CAAC,EAAD,CAAP;IACAC,SAAS,CAACC,OAAV,CAAkBW,IAAlB,CAAuB,UAAvB,EAAkCL,QAAlC;EACH;;EACD,SAASM,YAAT,CAAsBC,CAAtB,EAAyB;IACrBf,OAAO,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;EACH;;EAED,oBACI,QAAC,KAAD;IAAA,uBACI,QAAC,SAAD;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,IAAD;QAAM,SAAS,MAAf;QAAgB,OAAO,EAAE,CAAzB;QAAA,wBACI,QAAC,IAAD;UAAM,IAAI,MAAV;UAAW,EAAE,EAAE,EAAf;UAAA,UACKpB,KAAK,CAACqB,GAAN,CAAU,CAACnB,IAAD,EAAMoB,KAAN,KAAgB;YACvB,oBACI;cAAA,WACKpB,IAAI,CAACU,QADV,SACuBV,IAAI,CAACW,IAD5B;YAAA,GAAUS,KAAV;cAAA;cAAA;cAAA;YAAA,QADJ;UAMH,CAPA;QADL;UAAA;UAAA;UAAA;QAAA,QADJ,eAYI,QAAC,IAAD;UAAM,IAAI,MAAV;UAAW,EAAE,EAAE,EAAf;UAAA,uBACI,QAAC,SAAD;YACI,SAAS,MADb;YAEI,EAAE,EAAC,mBAFP;YAGI,KAAK,EAAIpB,IAHb;YAII,QAAQ,EAAEe,YAJd;YAKI,WAAW,EAAC,MALhB;YAMI,IAAI,EAAC;UANT;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAZJ,eAsBI,QAAC,IAAD;UAAM,IAAI,MAAV;UAAW,EAAE,EAAE,CAAf;UAAA,uBACI,QAAC,MAAD;YAAQ,OAAO,EAAC,UAAhB;YAA2B,IAAI,EAAC,QAAhC;YAAyC,OAAO,EAAEP,QAAlD;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAtBJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAmCH;;GApEQX,I;;KAAAA,I;AAqET,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}