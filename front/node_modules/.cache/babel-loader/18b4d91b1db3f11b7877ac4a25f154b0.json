{"ast":null,"code":"var _jsxFileName = \"C:\\\\SSAFY\\\\2nd semester\\\\S07P12D106\\\\front\\\\src\\\\components\\\\GatherRoomPageCom\\\\PlayMap.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectColor, selectX, selectY, setColor, setX, setY } from \"../../redux/slice/CharSlice\";\nimport { selectUser } from \"../../redux/slice/UserSlice\";\nimport { useBeforeunload } from \"react-beforeunload\"; // import { useNavigate } from \"react-router-dom\";\n// import { selectCntCivil, setCivil } from \"../../redux/slice/CntCivilSlice\";\n\nimport { setCop } from \"../../redux/slice/CntCopSlice\";\nimport { setDoc } from \"../../redux/slice/CntDocSlice\";\nimport { setLimit } from \"../../redux/slice/CntLimitSlice\";\nimport { setMaf } from \"../../redux/slice/CntMafSlice\"; // import { selectRoomTitle, RoomTitleSlice } from \"../../redux/slice/RoomTitleSlice\";\n\nimport { setNightTime, setTalkTime, setVoteTime } from \"../../redux/slice/GameTimeSlice\"; //리로딩되었는지 검사\n// import { selectChkRL, setChkRL } from \"../../redux/slice/CheckReloadSlice\";\n// import { selectCntCon, increCon, decreCon, setCon } from \"../../redux/slice/CntConSlice\";\n//방 번호 필요\n//socktjs\n\nimport SockJS from \"sockjs-client\";\nimport { decreCon, increCon } from \"../../redux/slice/CntConSlice\"; //img\n\nimport DLS from \"../../img/character/dino/dinoLeftStand.gif\";\nimport DLW from \"../../img/character/dino/dinoLeftWalk.gif\";\nimport DRW from \"../../img/character/dino/dinoRightWalk.gif\";\nimport DRS from \"../../img/character/dino/dinoRightStand.gif\";\nimport BG from \"../../img/character/dino/background.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar StompJs = require(\"@stomp/stompjs\");\n\nexport default function PlayMap() {\n  _s();\n\n  //리로드 확인\n  useBeforeunload(event => {\n    if (true) {\n      event.preventDefault();\n      dispatch(setX(pX.current));\n      dispatch(setY(pY.current));\n    }\n  });\n  const mapSize = 1083; //맵 출력 테이블 위치, 사이즈\n\n  const table = {\n    tbTop: 150,\n    tbLeft: 470,\n    width: 200,\n    height: 300\n  };\n  const chairs = [[110, 500], // 위\n  [110, 620], // 위\n  [180, 700], // 오\n  [400, 700], // 오\n  [470, 500], // 아\n  [470, 620], // 아\n  [180, 420], // 왼\n  [400, 420] // 왼\n  ];\n  let chairSeatState = {\n    1: false,\n    2: false,\n    3: false,\n    4: false,\n    5: false,\n    6: false,\n    7: false\n  };\n  const charSize = 50;\n  const chairSize = 20;\n  const dispatch = useDispatch();\n  let startYX = {\n    y: 600,\n    x: 300\n  };\n  const roomNum = useSelector(state => state.roomNum);\n  let subGatherRoom = null;\n  const acToken = useSelector(selectUser).accessToken;\n  const myNickName = useSelector(selectUser).nickname;\n  let myColor = \"#\" + Math.round(Math.random() * 0xffffff).toString(16);\n  let seatNum, seatChange, seatCnt, seatNothing; //맵에 출력할 의자 위치 (top, left)\n  //포커싱 지정을 위한 변수\n\n  const mapFocus = useRef(); //div태그를 아바타 객체로 지정\n\n  const myChar = useRef(document.getElementById(\"myCharacter\")); // let myChar = document.getElementById(\"myCharacter\");\n  //키 입력 시 값 저장 배열, 움직였을 때 위치 저장, 속도\n\n  let keyPress = {},\n      pX = useRef(350),\n      pY = useRef(600),\n      speed = 3; //타 유저의 데이터 저장\n\n  let otherUserData = {},\n      //현재 몇번에 유저가 저장되어있는지 확인\n  remainNum = {\n    1: false,\n    2: false,\n    3: false,\n    4: false,\n    5: false,\n    6: false,\n    7: false\n  };\n  const subAddr = `/sub/room/${roomNum}`;\n  const pubAddr = `/pub/room/${roomNum}`;\n  const client = new StompJs.Client({\n    //websocket 주소만 입력 가능 * ws://, wss:// 로 시작\n    // brokerURL: \"https://i7d106.p.ssafy.io:8080/ws\",\n    connectHeaders: {},\n    // debug: function (str) {\n    //   console.log(str);\n    // },\n    reconnectDelay: 5000,\n    heartbeatIncoming: 4000,\n    heartbeatOutgoing: 4000\n  });\n\n  client.webSocketFactory = () => {\n    return new SockJS(\"https://i7d106.p.ssafy.io:8080/ws\");\n  };\n\n  client.onConnect = frame => {\n    console.log(\"playMap onCon\");\n    subGatherRoom = client.subscribe(subAddr, onMessageReceived);\n    userJoin();\n  };\n\n  client.onWebSocketClose = () => {\n    \"playMap 소켓 종료\";\n  }; //에러 발생시 실행되는 코드\n\n\n  client.onStompError = function (frame) {\n    // Will be invoked in case of error encountered at Broker\n    // Bad login/passcode typically will cause an error\n    // Complaint brokers will set `message` header with a brief message. Body may contain details.\n    // Compliant brokers will terminate the connection after any error\n    console.log(\"Broker reported error: \" + frame.headers[\"message\"]);\n    console.log(\"Additional details: \" + frame.body);\n  };\n\n  const userJoin = () => {\n    console.log(\"when send join color, x, y:\", myColor + \" \" + pX.current + \" \" + pY.current);\n    client.publish({\n      destination: pubAddr,\n      headers: {\n        token: acToken\n      },\n      body: JSON.stringify({\n        header: {\n          type: \"join\"\n        },\n        data: {\n          nickname: myNickName,\n          y: pY.current,\n          x: pX.current,\n          color: myColor\n        }\n      }),\n      skipContentLengthHeader: true\n    });\n  }; //소켓으로 정보를 받았을 때 처리 함수\n\n\n  const onMessageReceived = payload => {\n    var payloadData = JSON.parse(payload.body);\n    console.log(\"payloadData: \", payloadData); //다른 유저의 입장 신호 수신 시\n\n    if (payloadData.header.type === \"join\") {\n      //본인 전송 join 무시 필요\n      if (payloadData.data.nickname === myNickName) return; //이미 방에 접속해있는 유저인 경우 처리해주지 않음\n\n      if (otherUserData[payloadData.data.nickname]) return;\n      dispatch(increCon()); //새로 접속해온 경우 남아있는 자리를 확인 후 입력\n\n      for (let i in remainNum) {\n        if (!remainNum[i]) {\n          remainNum[i] = true;\n          console.log(\"undefined user: \" + payloadData);\n          otherUserData[payloadData.data.nickname] = {\n            color: payloadData.data.color,\n            num: i\n          };\n          document.getElementById(`char${i}`).style.left = payloadData.data.x;\n          document.getElementById(`char${i}`).style.top = payloadData.data.y;\n          document.getElementById(`char${i}`).style.background = payloadData.data.color;\n          document.getElementById(`char${i}Name`).innerText = payloadData.data.nickname;\n          document.getElementById(`char${i}`).style.display = \"block\";\n          break;\n        }\n      }\n    } //반환된 값을 받은 경우\n    else if (payloadData.header.type === \"list\") {\n      let data = payloadData.data.users;\n      console.log(\"PlayMap user list: \", data); //저장된 유저의 정보를 입력\n\n      for (let i = 0; i < data.length; i++) {\n        //본인 닉네임 제외\n        if (data[i].nickname === myNickName || otherUserData[data[i].nickname]) {\n          console.log(i + \" 번째, returned data.users: \", data[i]);\n          continue;\n        } //다른 유저의 정보를 모두 저장\n        else {\n          //새로 접속해온 경우 남아있는 자리를 확인\n          for (let j in remainNum) {\n            //빈 자리에 입력\n            if (!remainNum[j]) {\n              //해당 자리 할당\n              remainNum[j] = true; //해당 유저의 구분값, 번호 저장\n\n              otherUserData[data[i].nickname] = {\n                color: data[i].color,\n                num: j\n              }; //해당 번호의 캐릭터에 값 입력\n\n              document.getElementById(`char${j}`).style.left = data[i].x + \"px\";\n              document.getElementById(`char${j}`).style.top = data[i].y + \"px\";\n              document.getElementById(`char${j}`).style.background = data[i].color;\n              document.getElementById(`char${j}Name`).innerText = data[i].nickname;\n              document.getElementById(`char${j}`).style.display = \"block\";\n              break;\n            }\n          }\n        }\n      }\n    } //유저 방 퇴장\n    else if (payloadData.header.type === \"leave\") {\n      dispatch(decreCon());\n      let userNum = otherUserData[payloadData.data.nickname].num;\n      remainNum[userNum] = false;\n      document.getElementById(`char${userNum}`).style.display = \"none\";\n      document.getElementById(`char${userNum}Name`).innerText = \"\";\n      document.getElementById(`char${userNum}Name`).left = startYX.x;\n      document.getElementById(`char${userNum}Name`).top = startYX.y;\n      otherUserData[payloadData.data.nickname] = null;\n    } //상호작용\n    else if (payloadData.header.type === \"interact\") {\n      console.log(\"interact, payloadData:\", payloadData.data); //본인 움직임은 제외\n\n      if (payloadData.data.nickname === myNickName || otherUserData[payloadData.data.nickname] === undefined) return;\n      document.getElementById(`char${otherUserData[payloadData.data.nickname].num}`).style.left = payloadData.data.x + \"px\";\n      document.getElementById(`char${otherUserData[payloadData.data.nickname].num}`).style.top = payloadData.data.y + \"px\"; //의자에 앉았을 때 해당 의자 비활성화\n\n      if (payloadData.data.status === \"ready\") {} //의자 일어섰을 때 해당 의자 활성화\n      else if (payloadData.data.status === \"stand\") {}\n    } else if (payloadData.header.type === \"start\") {\n      console.log(\"start: \", payloadData.data);\n    } //게임 설정 변경 데이터 수신\n    else if (payloadData.header.type === \"setting\") {\n      console.log(\"setting: \", payloadData.data); //방 제목 변경 추후\n\n      dispatch(setLimit(payloadData.data.capacity));\n      dispatch(setMaf(payloadData.data.mafia));\n      dispatch(setDoc(payloadData.data.doctor));\n      dispatch(setCop(payloadData.data.police));\n      dispatch(setMaf(payloadData.data.mafia));\n      dispatch(setTalkTime(payloadData.data.talkTime));\n      dispatch(setVoteTime(payloadData.data.voteTime));\n      dispatch(setNightTime(payloadData.data.nightTime));\n    } //해당 되지 않는 타입 출력\n    else {\n      console.log(\"else: \", payloadData);\n    }\n  }; //웹소켓 코드 끝\n  //첫 렌더링될 때만 입력받는 input태그로 focus\n\n\n  useEffect(() => {\n    myChar.current = document.getElementById(\"myCharacter\"); // myChar.current.style.background = myColor;\n\n    myChar.current.style.display = \"block\";\n    mapFocus.current.focus(); //랜더링 종료 시 인터벌 종료\n\n    return () => {\n      client.deactivate(); //랜더링 종료될 때 leave 신호 전송\n\n      clearInterval(inputCheck);\n      clearInterval(sendMyPos);\n      dispatch(setX(pX.current));\n      dispatch(setY(pY.current));\n    };\n  }, [myColor, myChar]); //약 60fps로 위치 정보 전송, 움직일 때만 전송\n\n  const sendMyPos = setInterval(() => {\n    if (client) {\n      //w, s, a, d\n      if (keyPress[87] || keyPress[83] || keyPress[65] || keyPress[68]) {\n        client.publish({\n          destination: pubAddr,\n          headers: {\n            \"content-type\": \"application/json\",\n            token: acToken\n          },\n          body: JSON.stringify({\n            header: {\n              type: \"interact\"\n            },\n            data: {\n              nickname: myNickName,\n              status: \"move\",\n              chairNum: null,\n              x: pX.current,\n              y: pY.current,\n              color: myColor\n            }\n          }),\n          skipContentLengthHeader: true\n        });\n\n        if (keyPress[65] && myChar.current.children[0].src !== DLW) {\n          myChar.current.children[0].src = DLW;\n        } else if (keyPress[68] && myChar.current.children[0].src !== DRW) {\n          myChar.current.children[0].src = DRW;\n        } else if ((keyPress[87] || keyPress[83]) && myChar.current.children[0].src === DLS) {\n          myChar.current.children[0].src = DLW;\n        } else if ((keyPress[87] || keyPress[83]) && myChar.current.children[0].src === DRS) {\n          myChar.current.children[0].src = DRW;\n        }\n      }\n    }\n  }, 16); //부드러운 움직임을 위한 변수 선언\n  //일정 초마다 키 입력 확인\n\n  const inputCheck = setInterval(() => {\n    if (keyPress[87]) pY.current -= speed;\n    if (keyPress[83]) pY.current += speed; // down - s\n\n    if (keyPress[65]) pX.current -= speed; // left - a\n\n    if (keyPress[68]) pX.current += speed; //테이블 충돌 감지\n\n    if (pX.current < table.tbLeft + table.width && pX.current + charSize > table.tbLeft && pY.current < table.tbTop + table.height && charSize + pY.current > table.tbTop) {\n      if (keyPress[87]) pY.current += speed;\n      if (keyPress[83]) pY.current -= speed; // down - s\n\n      if (keyPress[65]) pX.current += speed; // left - a\n\n      if (keyPress[68]) pX.current -= speed;\n    }\n\n    seatNum = -1; //의자 충돌 감지\n\n    for (let i = 0; i < 8; i++) {\n      if (chairs[i][1] < pX.current + charSize && chairs[i][1] + chairSize > pX.current && chairs[i][0] < charSize + pY.current && chairs[i][0] + chairSize > pY.current) {\n        seatNum = i; //자리에 앉았을 시 소켓으로 준비 완료 전송\n\n        if (seatNum !== seatChange) {\n          seatNothing = true;\n          seatChange = i;\n          client.publish({\n            destination: pubAddr,\n            headers: {\n              \"content-type\": \"application/json\",\n              token: acToken\n            },\n            body: JSON.stringify({\n              header: {\n                type: \"interact\"\n              },\n              data: {\n                nickname: myNickName,\n                status: \"ready\",\n                chairNum: seatChange,\n                y: pY.current,\n                x: pX.current,\n                color: myColor\n              }\n            }),\n            skipContentLengthHeader: true\n          });\n        } //자리와 이전 자리가 같을 시\n\n      }\n    } //자리에서 벗어났을 시 소켓으로 준비 완료 해제 전송\n\n\n    if (seatNum === -1 && seatNothing === true) {\n      seatCnt = 0;\n      seatNothing = false;\n      client.publish({\n        destination: pubAddr,\n        headers: {\n          \"content-type\": \"application/json\",\n          token: `Bearer ${acToken}`\n        },\n        body: JSON.stringify({\n          header: {\n            type: \"interact\"\n          },\n          data: {\n            nickname: myNickName,\n            status: \"stand\",\n            chairNum: -1,\n            color: myColor,\n            y: pY.current,\n            x: pX.current\n          }\n        }),\n        skipContentLengthHeader: true\n      });\n    } //외부 벽 충돌 감지\n\n\n    if (pY.current < 0) pY.current = 0;\n    if (pY.current >= 650 - charSize) pY.current = 650 - charSize;\n    if (pX.current < 0) pX.current = 0;\n    if (pX.current >= mapSize - charSize) pX.current = mapSize - charSize; //캐릭터 좌표 최신화\n\n    myChar.current.style.left = pX.current + \"px\";\n    myChar.current.style.top = pY.current + \"px\";\n  }, 16); //맵 클릭 시 입력 포커싱 지정\n\n  const changeFocus = () => {\n    mapFocus.current.focus();\n  }; //키 눌렀을 때 해당 값 true로 변환\n\n\n  const handleKeyDown = e => {\n    keyPress[e.keyCode.toString()] = true;\n  }; //키 땠을 때 해당 값 false로 변환\n\n\n  const handleKeyUp = e => {\n    keyPress[e.keyCode.toString()] = false;\n    client.publish({\n      destination: pubAddr,\n      headers: {\n        \"content-type\": \"application/json\",\n        token: acToken\n      },\n      body: JSON.stringify({\n        header: {\n          type: \"interact\"\n        },\n        data: {\n          nickname: myNickName,\n          status: \"move\",\n          chairNum: null,\n          x: pX.current,\n          y: pY.current,\n          color: myColor\n        }\n      }),\n      skipContentLengthHeader: true\n    });\n\n    if (myChar.current.children[0].src === DRW) {\n      myChar.current.children[0].src = DRS;\n    } else if (myChar.current.children[0].src === DLW) {\n      myChar.current.children[0].src = DLS;\n    }\n  };\n\n  client.activate();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map\",\n      onClick: changeFocus,\n      style: {\n        width: mapSize,\n        height: 650,\n        background: \"orange\",\n        position: \"relative\",\n        left: 0,\n        top: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"table\",\n        style: {\n          width: table.width,\n          height: table.height,\n          left: table.tbLeft,\n          top: table.tbTop,\n          background: \"green\",\n          position: \"absolute\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this), chairs.map((e, idx) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"chair\" + idx,\n          style: {\n            top: e[0],\n            left: e[1],\n            height: chairSize,\n            width: chairSize,\n            background: \"blue\",\n            position: \"absolute\"\n          }\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"myCharacter\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          position: \"absolute\",\n          display: \"none\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: DLS,\n          alt: \"DinoLeftStand\",\n          style: {\n            width: charSize,\n            height: charSize\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          },\n          children: myNickName !== undefined ? myNickName : \"need login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"char1\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          background: \"red\",\n          position: \"absolute\",\n          display: \"none\",\n          left: startYX.x,\n          top: startYX.y\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"char1Name\",\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"char2\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          background: \"red\",\n          position: \"absolute\",\n          display: \"none\",\n          left: startYX.x,\n          top: startYX.y\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"char2Name\",\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"char3\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          background: \"red\",\n          position: \"absolute\",\n          display: \"none\",\n          left: startYX.x,\n          top: startYX.y\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"char3Name\",\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"char4\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          // background: \"red\",\n          position: \"absolute\",\n          display: \"none\",\n          left: startYX.x,\n          top: startYX.y\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"char4Name\",\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"char5\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          background: \"red\",\n          position: \"absolute\",\n          display: \"none\",\n          left: startYX.x,\n          top: startYX.y\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"char5Name\",\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"char6\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          background: \"red\",\n          position: \"absolute\",\n          display: \"none\",\n          left: startYX.x,\n          top: startYX.y\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"char6Name\",\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"char7\",\n        style: {\n          margin: `0px`,\n          width: charSize,\n          height: charSize,\n          background: \"red\",\n          position: \"absolute\",\n          display: \"none\",\n          left: startYX.x,\n          top: startYX.y\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"char7Name\",\n          style: {\n            top: -20,\n            width: 200,\n            position: \"absolute\",\n            left: -100 + 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"inputTag\",\n        value: \"\",\n        type: \"text\",\n        ref: mapFocus,\n        onKeyDown: handleKeyDown,\n        onKeyUp: handleKeyUp,\n        readOnly: true,\n        style: {\n          color: \"rgba(30,30,30,0.0)\",\n          border: \"none\",\n          cursor: \"default\",\n          margin: \"0\",\n          position: \"absolute\",\n          top: 5,\n          left: 5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"hidden\",\n        style: {\n          color: \"rgba(30,30,30,0.0)\"\n        },\n        onClick: () => {\n          console.log(otherUserData);\n        },\n        children: \"\\uD604\\uC7AC \\uC811\\uC18D \\uBAA9\\uB85D \\uD655\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 456,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PlayMap, \"DST0NYmCOfU80XKo7G9LrNDxhZk=\", false, function () {\n  return [useBeforeunload, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = PlayMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlayMap\");","map":{"version":3,"names":["React","useRef","useEffect","useSelector","useDispatch","selectColor","selectX","selectY","setColor","setX","setY","selectUser","useBeforeunload","setCop","setDoc","setLimit","setMaf","setNightTime","setTalkTime","setVoteTime","SockJS","decreCon","increCon","DLS","DLW","DRW","DRS","BG","StompJs","require","PlayMap","event","preventDefault","dispatch","pX","current","pY","mapSize","table","tbTop","tbLeft","width","height","chairs","chairSeatState","charSize","chairSize","startYX","y","x","roomNum","state","subGatherRoom","acToken","accessToken","myNickName","nickname","myColor","Math","round","random","toString","seatNum","seatChange","seatCnt","seatNothing","mapFocus","myChar","document","getElementById","keyPress","speed","otherUserData","remainNum","subAddr","pubAddr","client","Client","connectHeaders","reconnectDelay","heartbeatIncoming","heartbeatOutgoing","webSocketFactory","onConnect","frame","console","log","subscribe","onMessageReceived","userJoin","onWebSocketClose","onStompError","headers","body","publish","destination","token","JSON","stringify","header","type","data","color","skipContentLengthHeader","payload","payloadData","parse","i","num","style","left","top","background","innerText","display","users","length","j","userNum","undefined","status","capacity","mafia","doctor","police","talkTime","voteTime","nightTime","focus","deactivate","clearInterval","inputCheck","sendMyPos","setInterval","chairNum","children","src","changeFocus","handleKeyDown","e","keyCode","handleKeyUp","activate","position","map","idx","margin","border","cursor"],"sources":["C:/SSAFY/2nd semester/S07P12D106/front/src/components/GatherRoomPageCom/PlayMap.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { selectColor, selectX, selectY, setColor, setX, setY } from \"../../redux/slice/CharSlice\";\r\nimport { selectUser } from \"../../redux/slice/UserSlice\";\r\nimport { useBeforeunload } from \"react-beforeunload\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import { selectCntCivil, setCivil } from \"../../redux/slice/CntCivilSlice\";\r\nimport { setCop } from \"../../redux/slice/CntCopSlice\";\r\nimport { setDoc } from \"../../redux/slice/CntDocSlice\";\r\nimport { setLimit } from \"../../redux/slice/CntLimitSlice\";\r\nimport { setMaf } from \"../../redux/slice/CntMafSlice\";\r\n// import { selectRoomTitle, RoomTitleSlice } from \"../../redux/slice/RoomTitleSlice\";\r\nimport { setNightTime, setTalkTime, setVoteTime } from \"../../redux/slice/GameTimeSlice\";\r\n//리로딩되었는지 검사\r\n// import { selectChkRL, setChkRL } from \"../../redux/slice/CheckReloadSlice\";\r\n// import { selectCntCon, increCon, decreCon, setCon } from \"../../redux/slice/CntConSlice\";\r\n//방 번호 필요\r\n\r\n//socktjs\r\nimport SockJS from \"sockjs-client\";\r\nimport { decreCon, increCon } from \"../../redux/slice/CntConSlice\";\r\n\r\n//img\r\nimport DLS from \"../../img/character/dino/dinoLeftStand.gif\";\r\nimport DLW from \"../../img/character/dino/dinoLeftWalk.gif\";\r\nimport DRW from \"../../img/character/dino/dinoRightWalk.gif\";\r\nimport DRS from \"../../img/character/dino/dinoRightStand.gif\";\r\nimport BG from \"../../img/character/dino/background.png\";\r\nvar StompJs = require(\"@stomp/stompjs\");\r\nexport default function PlayMap() {\r\n  //리로드 확인\r\n  useBeforeunload((event) => {\r\n    if (true) {\r\n      event.preventDefault();\r\n      dispatch(setX(pX.current));\r\n      dispatch(setY(pY.current));\r\n    }\r\n  });\r\n\r\n  const mapSize = 1083;\r\n  //맵 출력 테이블 위치, 사이즈\r\n  const table = {\r\n    tbTop: 150,\r\n    tbLeft: 470,\r\n    width: 200,\r\n    height: 300,\r\n  };\r\n  const chairs = [\r\n    [110, 500], // 위\r\n    [110, 620], // 위\r\n    [180, 700], // 오\r\n    [400, 700], // 오\r\n    [470, 500], // 아\r\n    [470, 620], // 아\r\n    [180, 420], // 왼\r\n    [400, 420], // 왼\r\n  ];\r\n  let chairSeatState = { 1: false, 2: false, 3: false, 4: false, 5: false, 6: false, 7: false };\r\n  const charSize = 50;\r\n  const chairSize = 20;\r\n  const dispatch = useDispatch();\r\n  let startYX = { y: 600, x: 300 };\r\n  const roomNum = useSelector((state) => state.roomNum);\r\n  let subGatherRoom = null;\r\n  const acToken = useSelector(selectUser).accessToken;\r\n  const myNickName = useSelector(selectUser).nickname;\r\n  let myColor = \"#\" + Math.round(Math.random() * 0xffffff).toString(16);\r\n\r\n  let seatNum, seatChange, seatCnt, seatNothing;\r\n\r\n  //맵에 출력할 의자 위치 (top, left)\r\n\r\n  //포커싱 지정을 위한 변수\r\n  const mapFocus = useRef();\r\n\r\n  //div태그를 아바타 객체로 지정\r\n  const myChar = useRef(document.getElementById(\"myCharacter\"));\r\n  // let myChar = document.getElementById(\"myCharacter\");\r\n\r\n  //키 입력 시 값 저장 배열, 움직였을 때 위치 저장, 속도\r\n  let keyPress = {},\r\n    pX = useRef(350),\r\n    pY = useRef(600),\r\n    speed = 3;\r\n\r\n  //타 유저의 데이터 저장\r\n  let otherUserData = {},\r\n    //현재 몇번에 유저가 저장되어있는지 확인\r\n    remainNum = { 1: false, 2: false, 3: false, 4: false, 5: false, 6: false, 7: false };\r\n\r\n  const subAddr = `/sub/room/${roomNum}`;\r\n  const pubAddr = `/pub/room/${roomNum}`;\r\n\r\n  const client = new StompJs.Client({\r\n    //websocket 주소만 입력 가능 * ws://, wss:// 로 시작\r\n    // brokerURL: \"https://i7d106.p.ssafy.io:8080/ws\",\r\n    connectHeaders: {},\r\n    // debug: function (str) {\r\n    //   console.log(str);\r\n    // },\r\n    reconnectDelay: 5000,\r\n    heartbeatIncoming: 4000,\r\n    heartbeatOutgoing: 4000,\r\n  });\r\n\r\n  client.webSocketFactory = () => {\r\n    return new SockJS(\"https://i7d106.p.ssafy.io:8080/ws\");\r\n  };\r\n\r\n  client.onConnect = (frame) => {\r\n    console.log(\"playMap onCon\");\r\n    subGatherRoom = client.subscribe(subAddr, onMessageReceived);\r\n    userJoin();\r\n  };\r\n\r\n  client.onWebSocketClose = () => {\r\n    \"playMap 소켓 종료\";\r\n  };\r\n\r\n  //에러 발생시 실행되는 코드\r\n  client.onStompError = function (frame) {\r\n    // Will be invoked in case of error encountered at Broker\r\n    // Bad login/passcode typically will cause an error\r\n    // Complaint brokers will set `message` header with a brief message. Body may contain details.\r\n    // Compliant brokers will terminate the connection after any error\r\n    console.log(\"Broker reported error: \" + frame.headers[\"message\"]);\r\n    console.log(\"Additional details: \" + frame.body);\r\n  };\r\n\r\n  const userJoin = () => {\r\n    console.log(\"when send join color, x, y:\", myColor + \" \" + pX.current + \" \" + pY.current);\r\n    client.publish({\r\n      destination: pubAddr,\r\n      headers: { token: acToken },\r\n      body: JSON.stringify({\r\n        header: {\r\n          type: \"join\",\r\n        },\r\n        data: {\r\n          nickname: myNickName,\r\n          y: pY.current,\r\n          x: pX.current,\r\n          color: myColor,\r\n        },\r\n      }),\r\n      skipContentLengthHeader: true,\r\n    });\r\n  };\r\n\r\n  //소켓으로 정보를 받았을 때 처리 함수\r\n  const onMessageReceived = (payload) => {\r\n    var payloadData = JSON.parse(payload.body);\r\n    console.log(\"payloadData: \", payloadData);\r\n\r\n    //다른 유저의 입장 신호 수신 시\r\n    if (payloadData.header.type === \"join\") {\r\n      //본인 전송 join 무시 필요\r\n      if (payloadData.data.nickname === myNickName) return;\r\n\r\n      //이미 방에 접속해있는 유저인 경우 처리해주지 않음\r\n      if (otherUserData[payloadData.data.nickname]) return;\r\n      dispatch(increCon());\r\n      //새로 접속해온 경우 남아있는 자리를 확인 후 입력\r\n      for (let i in remainNum) {\r\n        if (!remainNum[i]) {\r\n          remainNum[i] = true;\r\n          console.log(\"undefined user: \" + payloadData);\r\n          otherUserData[payloadData.data.nickname] = { color: payloadData.data.color, num: i };\r\n          document.getElementById(`char${i}`).style.left = payloadData.data.x;\r\n          document.getElementById(`char${i}`).style.top = payloadData.data.y;\r\n          document.getElementById(`char${i}`).style.background = payloadData.data.color;\r\n          document.getElementById(`char${i}Name`).innerText = payloadData.data.nickname;\r\n          document.getElementById(`char${i}`).style.display = \"block\";\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    //반환된 값을 받은 경우\r\n    else if (payloadData.header.type === \"list\") {\r\n      let data = payloadData.data.users;\r\n      console.log(\"PlayMap user list: \", data);\r\n      //저장된 유저의 정보를 입력\r\n      for (let i = 0; i < data.length; i++) {\r\n        //본인 닉네임 제외\r\n        if (data[i].nickname === myNickName || otherUserData[data[i].nickname]) {\r\n          console.log(i + \" 번째, returned data.users: \", data[i]);\r\n          continue;\r\n        }\r\n        //다른 유저의 정보를 모두 저장\r\n        else {\r\n          //새로 접속해온 경우 남아있는 자리를 확인\r\n          for (let j in remainNum) {\r\n            //빈 자리에 입력\r\n            if (!remainNum[j]) {\r\n              //해당 자리 할당\r\n              remainNum[j] = true;\r\n              //해당 유저의 구분값, 번호 저장\r\n              otherUserData[data[i].nickname] = { color: data[i].color, num: j };\r\n              //해당 번호의 캐릭터에 값 입력\r\n              document.getElementById(`char${j}`).style.left = data[i].x + \"px\";\r\n              document.getElementById(`char${j}`).style.top = data[i].y + \"px\";\r\n              document.getElementById(`char${j}`).style.background = data[i].color;\r\n              document.getElementById(`char${j}Name`).innerText = data[i].nickname;\r\n              document.getElementById(`char${j}`).style.display = \"block\";\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //유저 방 퇴장\r\n    else if (payloadData.header.type === \"leave\") {\r\n      dispatch(decreCon());\r\n      let userNum = otherUserData[payloadData.data.nickname].num;\r\n      remainNum[userNum] = false;\r\n      document.getElementById(`char${userNum}`).style.display = \"none\";\r\n      document.getElementById(`char${userNum}Name`).innerText = \"\";\r\n      document.getElementById(`char${userNum}Name`).left = startYX.x;\r\n      document.getElementById(`char${userNum}Name`).top = startYX.y;\r\n\r\n      otherUserData[payloadData.data.nickname] = null;\r\n    }\r\n    //상호작용\r\n    else if (payloadData.header.type === \"interact\") {\r\n      console.log(\"interact, payloadData:\", payloadData.data);\r\n      //본인 움직임은 제외\r\n      if (\r\n        payloadData.data.nickname === myNickName ||\r\n        otherUserData[payloadData.data.nickname] === undefined\r\n      )\r\n        return;\r\n\r\n      document.getElementById(`char${otherUserData[payloadData.data.nickname].num}`).style.left =\r\n        payloadData.data.x + \"px\";\r\n      document.getElementById(`char${otherUserData[payloadData.data.nickname].num}`).style.top =\r\n        payloadData.data.y + \"px\";\r\n\r\n      //의자에 앉았을 때 해당 의자 비활성화\r\n      if (payloadData.data.status === \"ready\") {\r\n      }\r\n      //의자 일어섰을 때 해당 의자 활성화\r\n      else if (payloadData.data.status === \"stand\") {\r\n      }\r\n    } else if (payloadData.header.type === \"start\") {\r\n      console.log(\"start: \", payloadData.data);\r\n    }\r\n    //게임 설정 변경 데이터 수신\r\n    else if (payloadData.header.type === \"setting\") {\r\n      console.log(\"setting: \", payloadData.data);\r\n      //방 제목 변경 추후\r\n      dispatch(setLimit(payloadData.data.capacity));\r\n      dispatch(setMaf(payloadData.data.mafia));\r\n      dispatch(setDoc(payloadData.data.doctor));\r\n      dispatch(setCop(payloadData.data.police));\r\n      dispatch(setMaf(payloadData.data.mafia));\r\n      dispatch(setTalkTime(payloadData.data.talkTime));\r\n      dispatch(setVoteTime(payloadData.data.voteTime));\r\n      dispatch(setNightTime(payloadData.data.nightTime));\r\n    }\r\n    //해당 되지 않는 타입 출력\r\n    else {\r\n      console.log(\"else: \", payloadData);\r\n    }\r\n  };\r\n\r\n  //웹소켓 코드 끝\r\n\r\n  //첫 렌더링될 때만 입력받는 input태그로 focus\r\n  useEffect(() => {\r\n    myChar.current = document.getElementById(\"myCharacter\");\r\n    // myChar.current.style.background = myColor;\r\n    myChar.current.style.display = \"block\";\r\n    mapFocus.current.focus();\r\n\r\n    //랜더링 종료 시 인터벌 종료\r\n    return () => {\r\n      client.deactivate();\r\n      //랜더링 종료될 때 leave 신호 전송\r\n      clearInterval(inputCheck);\r\n      clearInterval(sendMyPos);\r\n      dispatch(setX(pX.current));\r\n      dispatch(setY(pY.current));\r\n    };\r\n  }, [myColor, myChar]);\r\n\r\n  //약 60fps로 위치 정보 전송, 움직일 때만 전송\r\n  const sendMyPos = setInterval(() => {\r\n    if (client) {\r\n      //w, s, a, d\r\n      if (keyPress[87] || keyPress[83] || keyPress[65] || keyPress[68]) {\r\n        client.publish({\r\n          destination: pubAddr,\r\n          headers: { \"content-type\": \"application/json\", token: acToken },\r\n          body: JSON.stringify({\r\n            header: {\r\n              type: \"interact\",\r\n            },\r\n            data: {\r\n              nickname: myNickName,\r\n              status: \"move\",\r\n              chairNum: null,\r\n              x: pX.current,\r\n              y: pY.current,\r\n              color: myColor,\r\n            },\r\n          }),\r\n          skipContentLengthHeader: true,\r\n        });\r\n        if (keyPress[65] && myChar.current.children[0].src !== DLW) {\r\n          myChar.current.children[0].src = DLW;\r\n        } else if (keyPress[68] && myChar.current.children[0].src !== DRW) {\r\n          myChar.current.children[0].src = DRW;\r\n        } else if ((keyPress[87] || keyPress[83]) && myChar.current.children[0].src === DLS) {\r\n          myChar.current.children[0].src = DLW;\r\n        } else if ((keyPress[87] || keyPress[83]) && myChar.current.children[0].src === DRS) {\r\n          myChar.current.children[0].src = DRW;\r\n        }\r\n      }\r\n    }\r\n  }, 16);\r\n\r\n  //부드러운 움직임을 위한 변수 선언\r\n  //일정 초마다 키 입력 확인\r\n  const inputCheck = setInterval(() => {\r\n    if (keyPress[87]) pY.current -= speed;\r\n    if (keyPress[83]) pY.current += speed; // down - s\r\n    if (keyPress[65]) pX.current -= speed; // left - a\r\n    if (keyPress[68]) pX.current += speed;\r\n\r\n    //테이블 충돌 감지\r\n    if (\r\n      pX.current < table.tbLeft + table.width &&\r\n      pX.current + charSize > table.tbLeft &&\r\n      pY.current < table.tbTop + table.height &&\r\n      charSize + pY.current > table.tbTop\r\n    ) {\r\n      if (keyPress[87]) pY.current += speed;\r\n      if (keyPress[83]) pY.current -= speed; // down - s\r\n      if (keyPress[65]) pX.current += speed; // left - a\r\n      if (keyPress[68]) pX.current -= speed;\r\n    }\r\n\r\n    seatNum = -1;\r\n    //의자 충돌 감지\r\n    for (let i = 0; i < 8; i++) {\r\n      if (\r\n        chairs[i][1] < pX.current + charSize &&\r\n        chairs[i][1] + chairSize > pX.current &&\r\n        chairs[i][0] < charSize + pY.current &&\r\n        chairs[i][0] + chairSize > pY.current\r\n      ) {\r\n        seatNum = i;\r\n        //자리에 앉았을 시 소켓으로 준비 완료 전송\r\n        if (seatNum !== seatChange) {\r\n          seatNothing = true;\r\n          seatChange = i;\r\n\r\n          client.publish({\r\n            destination: pubAddr,\r\n            headers: { \"content-type\": \"application/json\", token: acToken },\r\n            body: JSON.stringify({\r\n              header: {\r\n                type: \"interact\",\r\n              },\r\n              data: {\r\n                nickname: myNickName,\r\n                status: \"ready\",\r\n                chairNum: seatChange,\r\n                y: pY.current,\r\n                x: pX.current,\r\n                color: myColor,\r\n              },\r\n            }),\r\n            skipContentLengthHeader: true,\r\n          });\r\n        }\r\n        //자리와 이전 자리가 같을 시\r\n      }\r\n    }\r\n    //자리에서 벗어났을 시 소켓으로 준비 완료 해제 전송\r\n    if (seatNum === -1 && seatNothing === true) {\r\n      seatCnt = 0;\r\n      seatNothing = false;\r\n\r\n      client.publish({\r\n        destination: pubAddr,\r\n        headers: { \"content-type\": \"application/json\", token: `Bearer ${acToken}` },\r\n        body: JSON.stringify({\r\n          header: {\r\n            type: \"interact\",\r\n          },\r\n          data: {\r\n            nickname: myNickName,\r\n            status: \"stand\",\r\n            chairNum: -1,\r\n            color: myColor,\r\n            y: pY.current,\r\n            x: pX.current,\r\n          },\r\n        }),\r\n        skipContentLengthHeader: true,\r\n      });\r\n    }\r\n    //외부 벽 충돌 감지\r\n    if (pY.current < 0) pY.current = 0;\r\n    if (pY.current >= 650 - charSize) pY.current = 650 - charSize;\r\n    if (pX.current < 0) pX.current = 0;\r\n    if (pX.current >= mapSize - charSize) pX.current = mapSize - charSize;\r\n\r\n    //캐릭터 좌표 최신화\r\n    myChar.current.style.left = pX.current + \"px\";\r\n    myChar.current.style.top = pY.current + \"px\";\r\n  }, 16);\r\n\r\n  //맵 클릭 시 입력 포커싱 지정\r\n  const changeFocus = () => {\r\n    mapFocus.current.focus();\r\n  };\r\n\r\n  //키 눌렀을 때 해당 값 true로 변환\r\n  const handleKeyDown = (e) => {\r\n    keyPress[e.keyCode.toString()] = true;\r\n  };\r\n\r\n  //키 땠을 때 해당 값 false로 변환\r\n  const handleKeyUp = (e) => {\r\n    keyPress[e.keyCode.toString()] = false;\r\n    client.publish({\r\n      destination: pubAddr,\r\n      headers: { \"content-type\": \"application/json\", token: acToken },\r\n      body: JSON.stringify({\r\n        header: {\r\n          type: \"interact\",\r\n        },\r\n        data: {\r\n          nickname: myNickName,\r\n          status: \"move\",\r\n          chairNum: null,\r\n          x: pX.current,\r\n          y: pY.current,\r\n          color: myColor,\r\n        },\r\n      }),\r\n      skipContentLengthHeader: true,\r\n    });\r\n    if (myChar.current.children[0].src === DRW) {\r\n      myChar.current.children[0].src = DRS;\r\n    } else if (myChar.current.children[0].src === DLW) {\r\n      myChar.current.children[0].src = DLS;\r\n    }\r\n  };\r\n\r\n  client.activate();\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      <div\r\n        id='map'\r\n        onClick={changeFocus}\r\n        style={{\r\n          width: mapSize,\r\n          height: 650,\r\n          background: \"orange\",\r\n          position: \"relative\",\r\n          left: 0,\r\n          top: 0,\r\n        }}\r\n      >\r\n        <div\r\n          id='table'\r\n          style={{\r\n            width: table.width,\r\n            height: table.height,\r\n            left: table.tbLeft,\r\n            top: table.tbTop,\r\n            background: \"green\",\r\n            position: \"absolute\",\r\n          }}\r\n        ></div>\r\n\r\n        {chairs.map((e, idx) => {\r\n          return (\r\n            <div\r\n              key={idx}\r\n              id={\"chair\" + idx}\r\n              style={{\r\n                top: e[0],\r\n                left: e[1],\r\n                height: chairSize,\r\n                width: chairSize,\r\n                background: \"blue\",\r\n                position: \"absolute\",\r\n              }}\r\n            ></div>\r\n          );\r\n        })}\r\n        <div\r\n          id='myCharacter'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n          }}\r\n        >\r\n          <img src={DLS} alt='DinoLeftStand' style={{ width: charSize, height: charSize }} />\r\n          <div style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}>\r\n            {myNickName !== undefined ? myNickName : \"need login\"}\r\n          </div>\r\n        </div>\r\n        {/* 다른 유저의 캐릭터 */}\r\n\r\n        <div\r\n          id='char1'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            background: \"red\",\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            left: startYX.x,\r\n            top: startYX.y,\r\n          }}\r\n        >\r\n          <div\r\n            id='char1Name'\r\n            style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}\r\n          ></div>\r\n        </div>\r\n        <div\r\n          id='char2'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            background: \"red\",\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            left: startYX.x,\r\n            top: startYX.y,\r\n          }}\r\n        >\r\n          <div\r\n            id='char2Name'\r\n            style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}\r\n          ></div>\r\n        </div>\r\n        <div\r\n          id='char3'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            background: \"red\",\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            left: startYX.x,\r\n            top: startYX.y,\r\n          }}\r\n        >\r\n          <div\r\n            id='char3Name'\r\n            style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}\r\n          ></div>\r\n        </div>\r\n        <div\r\n          id='char4'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            // background: \"red\",\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            left: startYX.x,\r\n            top: startYX.y,\r\n          }}\r\n        >\r\n          <div\r\n            id='char4Name'\r\n            style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}\r\n          ></div>\r\n        </div>\r\n        <div\r\n          id='char5'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            background: \"red\",\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            left: startYX.x,\r\n            top: startYX.y,\r\n          }}\r\n        >\r\n          <div\r\n            id='char5Name'\r\n            style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}\r\n          ></div>\r\n        </div>\r\n        <div\r\n          id='char6'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            background: \"red\",\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            left: startYX.x,\r\n            top: startYX.y,\r\n          }}\r\n        >\r\n          <div\r\n            id='char6Name'\r\n            style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}\r\n          ></div>\r\n        </div>\r\n        <div\r\n          id='char7'\r\n          style={{\r\n            margin: `0px`,\r\n            width: charSize,\r\n            height: charSize,\r\n            background: \"red\",\r\n            position: \"absolute\",\r\n            display: \"none\",\r\n            left: startYX.x,\r\n            top: startYX.y,\r\n          }}\r\n        >\r\n          <div\r\n            id='char7Name'\r\n            style={{ top: -20, width: 200, position: \"absolute\", left: -100 + 25 }}\r\n          ></div>\r\n        </div>\r\n        <input\r\n          id='inputTag'\r\n          value=''\r\n          type='text'\r\n          ref={mapFocus}\r\n          onKeyDown={handleKeyDown}\r\n          onKeyUp={handleKeyUp}\r\n          readOnly\r\n          style={{\r\n            color: \"rgba(30,30,30,0.0)\",\r\n            border: \"none\",\r\n            cursor: \"default\",\r\n            margin: \"0\",\r\n            position: \"absolute\",\r\n            top: 5,\r\n            left: 5,\r\n          }}\r\n        />\r\n        <button\r\n          type='hidden'\r\n          style={{ color: \"rgba(30,30,30,0.0)\" }}\r\n          onClick={() => {\r\n            console.log(otherUserData);\r\n          }}\r\n        >\r\n          현재 접속 목록 확인\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}