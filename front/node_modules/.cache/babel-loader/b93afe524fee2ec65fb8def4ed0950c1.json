{"ast":null,"code":"function Mapper() {\n  var sources = {};\n\n  this.forEach = function (callback) {\n    for (var key in sources) {\n      var source = sources[key];\n\n      for (var key2 in source) {\n        callback(source[key2]);\n      }\n    }\n\n    ;\n  };\n\n  this.get = function (id, source) {\n    var ids = sources[source];\n    if (ids == undefined) return undefined;\n    return ids[id];\n  };\n\n  this.remove = function (id, source) {\n    var ids = sources[source];\n    if (ids == undefined) return;\n    delete ids[id];\n\n    for (var i in ids) {\n      return false;\n    }\n\n    delete sources[source];\n  };\n\n  this.set = function (value, id, source) {\n    if (value == undefined) return this.remove(id, source);\n    var ids = sources[source];\n    if (ids == undefined) sources[source] = ids = {};\n    ids[id] = value;\n  };\n}\n\n;\n\nMapper.prototype.pop = function (id, source) {\n  var value = this.get(id, source);\n  if (value == undefined) return undefined;\n  this.remove(id, source);\n  return value;\n};\n\nmodule.exports = Mapper;","map":null,"metadata":{},"sourceType":"script"}